<section class="container admin-shell">
    <header class="admin-hero">
      <div>
        <p class="eyebrow">Store Console</p>
        <h2 style="margin:6px 0 4px">Admin</h2>
        <p class="muted">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡πâ‡∏ô‡πà‡∏≤‡πÉ‡∏ä‡πâ ‡∏õ‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏Ñ‡∏≤ ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏π‡∏õ ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏™‡∏ï‡πá‡∏≠‡∏Å‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å‡∏à‡∏∏‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß</p>
      </div>
      <div class="admin-badge">‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô ‚úÖ</div>
    </header>

    <div *ngIf="!auth.authed()" class="panel admin-card">
      <div class="panel-header">
        <div>
          <p class="eyebrow">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</p>
          <h3 style="margin:4px 0 6px">‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•</h3>
          <p class="muted">‡πÉ‡∏ä‡πâ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÑ‡∏ß‡πâ‡πÉ‡∏ô <code>src/app/config.ts</code> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</p>
        </div>
        <div class="pill pill-ghost">‡∏à‡∏≥‡∏Å‡∏±‡∏î‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•</div>
      </div>
      <div class="form-grid two-col">
        <div><label class="small">Username</label><input class="input" [(ngModel)]="username" placeholder="admin"></div>
        <div><label class="small">Password</label><input class="input" [(ngModel)]="password" type="password" placeholder="1234"></div>
      </div>
      <div class="admin-login-actions">
        <button class="btn primary wide" (click)="doLogin()">Login</button>
        <span class="small">* ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ö‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡πÅ‡∏•‡∏∞‡πÄ‡∏î‡∏™‡∏Å‡πå‡∏ó‡πá‡∏≠‡∏õ</span>
      </div>
    </div>

    <div *ngIf="auth.authed()" class="admin-grid">
      <div class="panel admin-card">
        <div class="panel-header">
          <div>
            <p class="eyebrow">‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡πâ‡∏≤‡∏ô</p>
            <h3 style="margin:4px 0">‡πÄ‡∏û‡∏¥‡πà‡∏° / ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h3>
            <p class="muted">‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏´‡πâ‡∏î‡∏π‡∏™‡∏∞‡∏≠‡∏≤‡∏î ‡πÉ‡∏ä‡πâ‡∏á‡πà‡∏≤‡∏¢ ‡∏ó‡∏±‡πâ‡∏á‡∏ö‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡πÅ‡∏•‡∏∞‡πÄ‡∏î‡∏™‡∏Å‡πå‡∏ó‡πá‡∏≠‡∏õ</p>
          </div>
          <div class="pill-row">
            <span class="pill">‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ {{ ps.products().length }} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</span>
            <span class="pill pill-ghost">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏•‡πâ‡∏ß</span>
          </div>
        </div>
        <div class="admin-toolbar">
          <button class="btn" (click)="logout()">Logout</button>
          <button class="btn danger" (click)="reset()">Reset ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô</button>
        </div>

        <div class="form-grid two-col">
          <div><label class="small">‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</label><input class="input" [(ngModel)]="draft.name" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Å‡∏∏‡πâ‡∏á‡∏™‡∏î 1 ‡∏Å‡∏Å."></div>
          <div><label class="small">‡∏£‡∏≤‡∏Ñ‡∏≤ (‡∏ö‡∏≤‡∏ó)</label><input class="input" type="number" [(ngModel)]="draft.price" placeholder="0"></div>
          <div><label class="small">‡∏´‡∏ô‡πà‡∏ß‡∏¢</label><input class="input" [(ngModel)]="draft.unit" placeholder="‡πÅ‡∏û‡πá‡∏Ñ / ‡∏Å‡∏Å. / ‡∏ä‡∏¥‡πâ‡∏ô"></div>
          <div><label class="small">‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</label><input class="input" [(ngModel)]="draft.category" placeholder="‡∏Å‡∏∏‡πâ‡∏á / ‡∏õ‡∏•‡∏≤ / ‡∏ã‡∏≠‡∏™"></div>
          <div><label class="small">SKU</label><input class="input" [(ngModel)]="draft.sku" placeholder="‡πÉ‡∏™‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏ß‡πâ‡∏ô‡∏ß‡πà‡∏≤‡∏á"></div>
          <div class="full-row"><label class="small">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</label><textarea class="input" rows="3" [(ngModel)]="draft.description" placeholder="‡∏à‡∏∏‡∏î‡πÄ‡∏î‡πà‡∏ô ‡∏´‡∏£‡∏∑‡∏≠‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏£‡πà‡∏≤‡∏ß‡πÜ"></textarea></div>
          <div class="full-row upload-row">
            <div>
              <label class="small">‡∏£‡∏π‡∏õ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå)</label>
              <input type="file" accept="image/*" (change)="onUploadNew($event)">
              <p class="small muted" style="margin-top:4px">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏õ‡πá‡∏ô Data URL ‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á ‡πÑ‡∏°‡πà‡∏û‡∏∂‡πà‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å</p>
            </div>
            <div class="image-chip" *ngIf="draft.image">‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</div>
          </div>
        </div>
        <div *ngIf="draft.image" class="preview-frame"><img class="preview" [src]="draft.image" alt=""></div>
        <div class="action-row">
          <button class="btn primary" (click)="add()">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</button>
          <button class="btn" (click)="clearDraft()">‡∏•‡πâ‡∏≤‡∏á‡∏ü‡∏≠‡∏£‡πå‡∏°</button>
        </div>
      </div>

      <div class="panel admin-card">
        <div class="panel-header">
          <div>
            <p class="eyebrow">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</p>
            <h3 style="margin:4px 0">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</h3>
            <p class="muted">‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏Å‡∏£‡∏≠‡∏•‡∏•‡πå‡πÉ‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ ‡πÄ‡∏ã‡∏•‡∏•‡πå‡∏û‡∏±‡∏ö‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏¢‡∏≤‡∏ß‡πÉ‡∏´‡πâ‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢</p>
          </div>
          <div class="pill pill-ghost">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏∞‡πÄ‡∏ã‡∏ü‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</div>
        </div>
        <div class="table-wrap admin-table-wrap">
          <table class="table admin-table">
            <thead><tr><th style="width:104px">‡∏£‡∏π‡∏õ</th><th>‡∏ä‡∏∑‡πà‡∏≠</th><th style="width:64px">‡∏£‡∏≤‡∏Ñ‡∏≤</th><th style="width:138px">‡∏´‡∏ô‡πà‡∏ß‡∏¢/‡∏´‡∏°‡∏ß‡∏î</th><th style="width:68px">SKU</th><th>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</th><th style="width:170px">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th></tr></thead>
            <tbody>
              <tr *ngFor="let p of ps.products(); trackBy: track">
                <td class="cell image-cell" data-label="‡∏£‡∏π‡∏õ">
                  <div class="preview-frame preview-frame--row">
                    <img class="preview" [src]="p.image" alt="">
                  </div>
                </td>
                <td class="cell" data-label="‡∏ä‡∏∑‡πà‡∏≠"><textarea class="input" rows="3" [(ngModel)]="p.name"></textarea></td>
                <td class="cell price-cell"  data-label="‡∏£‡∏≤‡∏Ñ‡∏≤"><input class="input" type="number" [(ngModel)]="p.price"></td>
                <td class="cell stack-cell" data-label="‡∏´‡∏ô‡πà‡∏ß‡∏¢/‡∏´‡∏°‡∏ß‡∏î">
                  <div class="stack-cell__inputs">
                    <input class="input" [(ngModel)]="p.unit">
                    <input class="input" [(ngModel)]="p.category">
                  </div>
                </td>
                <td class="cell sku-cell" data-label="SKU"><input class="input" [(ngModel)]="p.sku"></td>
                <td class="cell" data-label="‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î"><textarea class="input" rows="3" [(ngModel)]="p.description"></textarea></td>
                <td class="cell tr-actions admin-row-actions" data-label="‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£">
                  <div class="action-grid">
                    <label class="pill-btn ghost" title="‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏π‡∏õ" aria-label="‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏π‡∏õ">
                      <span class="glyph" aria-hidden="true">üìÅ</span>
                      <span class="label">‡∏£‡∏π‡∏õ</span>
                      <input type="file" accept="image/*" (change)="onReplaceImage(p, $event)">
                    </label>
                    <button class="pill-btn success" title="‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å" aria-label="‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å" (click)="save(p)">
                      <span class="glyph" aria-hidden="true">üíæ</span>
                      <span class="label">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</span>
                    </button>
                    <button class="pill-btn ghost" title="‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å" aria-label="‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å" (click)="cancelEdits()">
                      <span class="glyph" aria-hidden="true">‚Ü©</span>
                      <span class="label">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</span>
                    </button>
                    <button class="pill-btn danger" title="‡∏•‡∏ö" aria-label="‡∏•‡∏ö" (click)="remove(p.id)">
                      <span class="glyph" aria-hidden="true">üóë</span>
                      <span class="label">‡∏•‡∏ö</span>
                    </button>
                  </div>
                  <div class="action-subtext">‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏•‡πá‡∏Å‡∏Å‡∏î‡∏á‡πà‡∏≤‡∏¢ ‡πÑ‡∏°‡πà‡πÄ‡∏ö‡∏µ‡∏¢‡∏î‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°</div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </section>
